# –û–Ω–ª–∞–π–Ω –±–∏–±–ª–∏–æ—Ç–µ–∫–∞ —Å –≥–µ–Ω–µ—Ä–∞—Ü–∏–µ–π —Å—Ç—Ä–∞–Ω–∏—Ü –∏ livereload

---

## üìö –û–ø–∏—Å–∞–Ω–∏–µ

–≠—Ç–æ—Ç –ø—Ä–æ–µ–∫—Ç –Ω–∞ Python –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç HTML-—Å—Ç—Ä–∞–Ω–∏—Ü—ã —Å –∫–Ω–∏–≥–∞–º–∏ –∏–∑ —Ñ–∞–π–ª–∞ `meta_data.json` –∏ –∑–∞–ø—É—Å–∫–∞–µ—Ç –ª–æ–∫–∞–ª—å–Ω—ã–π —Å–µ—Ä–≤–µ—Ä —Å –∞–≤—Ç–æ–ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏—è—Ö –±–ª–∞–≥–æ–¥–∞—Ä—è –±–∏–±–ª–∏–æ—Ç–µ–∫–µ `livereload`.

**–û—Å–Ω–æ–≤–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏:**
- –ß—Ç–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞ –∫–Ω–∏–≥ –∏–∑ `meta_data.json`.
- –†–∞–∑–±–∏–µ–Ω–∏–µ –ø–æ–ª–Ω–æ–≥–æ —Å–ø–∏—Å–∫–∞ –∫–Ω–∏–≥ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—ã, –ø–æ 15 —à—Ç—É–∫ –Ω–∞ –∫–∞–∂–¥–æ–π.
- –†–µ–Ω–¥–µ—Ä–∏–Ω–≥ –∫–∞–∂–¥–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü—ã –∏–∑ —à–∞–±–ª–æ–Ω–∞ `template.html` —Å –ø–æ–º–æ—â—å—é Jinja2.
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –∑–∞–ø—É—Å–∫ —Å–µ—Ä–≤–µ—Ä–∞ –∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏—è—Ö –∏—Å—Ö–æ–¥–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤.
- –°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ HTML-—Ñ–∞–π–ª—ã —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –≤ –ø–∞–ø–∫–µ `pages` —Å –∏–º–µ–Ω–∞–º–∏:
  `index1.html`, `index2.html`, –∏ —Ç.–¥.

---

## üìñ –§–æ—Ä–º–∞—Ç —Ñ–∞–π–ª–∞ `meta_data.json`

JSON-—Ñ–∞–π–ª —Å–æ–¥–µ—Ä–∂–∏—Ç –º–∞—Å—Å–∏–≤ –æ–±—ä–µ–∫—Ç–æ–≤, –∫–∞–∂–¥—ã–π –∏–∑ –∫–æ—Ç–æ—Ä—ã—Ö –æ–ø–∏—Å—ã–≤–∞–µ—Ç –∫–Ω–∏–≥—É:

- **title** (_string_) ‚Äî –Ω–∞–∑–≤–∞–Ω–∏–µ –∫–Ω–∏–≥–∏.
- **author** (_string_) ‚Äî –∏–º—è –∞–≤—Ç–æ—Ä–∞(–æ–≤).
- **img_src** (_string_) ‚Äî –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω—ã–π –ø—É—Ç—å –∫ –æ–±–ª–æ–∂–∫–µ –∫–Ω–∏–≥–∏.
- **book_path** (_string_) ‚Äî –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω—ã–π –ø—É—Ç—å –∫ —Ñ–∞–π–ª—É —Å —Ç–µ–∫—Å—Ç–æ–º –∫–Ω–∏–≥–∏.
- **comments** (_array of strings_) ‚Äî —Å–ø–∏—Å–æ–∫ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤ (–º–æ–∂–µ—Ç –±—ã—Ç—å –ø—É—Å—Ç—ã–º).
- **genres** (_string_) ‚Äî –∂–∞–Ω—Ä—ã –∫–Ω–∏–≥–∏ —á–µ—Ä–µ–∑ –∑–∞–ø—è—Ç—É—é; –º–æ–∂–µ—Ç –∑–∞–∫–∞–Ω—á–∏–≤–∞—Ç—å—Å—è —Ç–æ—á–∫–æ–π.

### –ü—Ä–∏–º–µ—Ä –∑–∞–ø–∏—Å–∏


```json
[
    {
        "title": "–†–æ–∫–æ–≤–æ–π –ø–æ—Ü–µ–ª—É–π",
        "author": "–ü–∞—Ç—Ä–∞—Ü–∫–∞—è –ù–∞—Ç–∞–ª—å—è",
        "img_src": "img/nopic.gif",
        "book_path": "books/5648-–†–æ–∫–æ–≤–æ–π –ø–æ—Ü–µ–ª—É–π.txt",
        "comments": [],
        "genres": "–ù–∞—É—á–Ω–∞—è —Ñ–∞–Ω—Ç–∞—Å—Ç–∏–∫–∞, –ü—Ä–æ—á–∏–µ –î–µ—Ç–µ–∫—Ç–∏–≤—ã, –ü—Ä–æ—á–∏–µ –ø—Ä–∏–∫–ª—é—á–µ–Ω–∏—è."
    },
```
---

### –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:

- –í—Å–µ –ø—É—Ç–∏ (–∫ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è–º –∏ —Ç–µ–∫—Å—Ç–∞–º) —É–∫–∞–∑—ã–≤–∞—é—Ç—Å—è –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω–æ –∫–æ—Ä–Ω—è –ø—Ä–æ–µ–∫—Ç–∞.
- –ú–∞—Å—Å–∏–≤ `comments` –º–æ–∂–µ—Ç –±—ã—Ç—å –ø—É—Å—Ç—ã–º, –µ—Å–ª–∏ –∫ –∫–Ω–∏–≥–µ –Ω–µ—Ç –æ—Ç–∑—ã–≤–æ–≤.
- –ü–æ–ª–µ `genres` ‚Äî —Å—Ç—Ä–æ–∫–∞ —Å –∂–∞–Ω—Ä–∞–º–∏, –∏—Ö –º–æ–∂–Ω–æ —Ä–∞–∑–æ–±—Ä–∞—Ç—å –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –ø–æ –∑–∞–ø—è—Ç–æ–π –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è —Å–ø–∏—Å–∫–æ–º.
- JSON-—Ñ–∞–π–ª –º–æ–∂–µ—Ç –≤–∫–ª—é—á–∞—Ç—å –ø—Ä–æ–∏–∑–≤–æ–ª—å–Ω–æ–µ —á–∏—Å–ª–æ –∑–∞–ø–∏—Å–µ–π ‚Äî –∫–∞–∂–¥–∞—è –æ–ø–∏—Å—ã–≤–∞–µ—Ç –æ–¥–Ω—É –∫–Ω–∏–≥—É.

---

## ‚öôÔ∏è –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

–†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è —Å–æ–∑–¥–∞—Ç—å –∏ –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞—Ç—å –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ Python.

```powershell
pip install livereload more-itertools jinja2
```

---

## üöÄ –ó–∞–ø—É—Å–∫

–ó–∞–ø—É—Å—Ç–∏—Ç–µ —Å–∫—Ä–∏–ø—Ç –∫–æ–º–∞–Ω–¥–æ–π:

```powershell
python render_website.py
```

–°–µ—Ä–≤–µ—Ä –∑–∞–ø—É—Å—Ç–∏—Ç—Å—è –ø–æ –∞–¥—Ä–µ—Å—É –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é:  
`http://127.0.0.1:5500`  
–∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ—Ç–∫—Ä–æ–µ—Ç—Å—è –±—Ä–∞—É–∑–µ—Ä —Å –Ω—É–∂–Ω–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü–µ–π:  
`http://127.0.0.1:5500/pages/index1.html`

---

## ‚ùó –í–∞–∂–Ω—ã–µ –º–æ–º–µ–Ω—Ç—ã

### –ü–∞—Ä–∞–º–µ—Ç—Ä `open_url` –≤ livereload

–í –Ω–æ–≤—ã—Ö –≤–µ—Ä—Å–∏—è—Ö `livereload` –ø–∞—Ä–∞–º–µ—Ç—Ä `open_url` —É—Å—Ç–∞—Ä–µ–ª –∏ –∑–∞–º–µ–Ω—ë–Ω –Ω–∞ `open_url_delay` ‚Äî –∑–∞–¥–µ—Ä–∂–∫—É –≤ —Å–µ–∫—É–Ω–¥–∞—Ö –ø–µ—Ä–µ–¥ –æ—Ç–∫—Ä—ã—Ç–∏–µ–º –±—Ä–∞—É–∑–µ—Ä–∞. –ü–µ—Ä–µ–¥–∞–≤–∞—Ç—å —Å—é–¥–∞ URL –Ω–µ–ª—å–∑—è ‚Äî —ç—Ç–æ –≤—ã–∑–æ–≤–µ—Ç –æ—à–∏–±–∫—É:

```powershell
TypeError: 'str' object cannot be interpreted as an integer
```

### –ö–∞–∫ –ø—Ä–∞–≤–∏–ª—å–Ω–æ —Å—Ä–∞–∑—É –æ—Ç–∫—Ä—ã—Ç—å –Ω—É–∂–Ω—É—é —Å—Ç—Ä–∞–Ω–∏—Ü—É

- –í—ã–∑–æ–≤–∏—Ç–µ `server.serve()` —Å –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–º `open_url_delay`, –Ω–∞–ø—Ä–∏–º–µ—Ä:

```python
server.serve(root=".", port=5500, open_url_delay=1)
```

- –ê –∑–∞—Ç–µ–º –æ—Ç–∫—Ä–æ–π—Ç–µ URL –≤—Ä—É—á–Ω—É—é —á–µ—Ä–µ–∑ Python-–º–æ–¥—É–ª—å `webbrowser`:

```python
import webbrowser

url = "http://127.0.0.1:5500/pages/index1.html"
webbrowser.open(url)
```

---

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
.
‚îú‚îÄ‚îÄ main.py # –û—Å–Ω–æ–≤–Ω–æ–π —Å–∫—Ä–∏–ø—Ç
‚îú‚îÄ‚îÄ meta_data.json # –î–∞–Ω–Ω—ã–µ –æ –∫–Ω–∏–≥–∞—Ö –≤ —Ñ–æ—Ä–º–∞—Ç–µ JSON
‚îú‚îÄ‚îÄ template.html # Jinja2 —à–∞–±–ª–æ–Ω —Å—Ç—Ä–∞–Ω–∏—Ü—ã
‚îú‚îÄ‚îÄ pages/ # –°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ HTML-—Ñ–∞–π–ª—ã
‚îÇ ‚îú‚îÄ‚îÄ index1.html
‚îÇ ‚îú‚îÄ‚îÄ index2.html
‚îÇ ‚îî‚îÄ‚îÄ ...
‚îî‚îÄ‚îÄ README.md # –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø—Ä–æ–µ–∫—Ç–∞
```
---
